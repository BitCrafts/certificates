@*// SPDX-License-Identifier: AGPL-3.0-only
// Copyright (C) 2025 Younes Benmoussa <benzsoftware@pm.me>
// 
// This program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details.
// You should have received a copy of the GNU Affero General Public License along with this program. If not, see <https://www.gnu.org/licenses/>. 
*@
@model BitCrafts.Certificates.Models.CertificateRecord
@{
    ViewData["Title"] = $"Certificate #{Model.Id}";
}

<h1>Server Certificate Details</h1>

<div class="mb-3">
    <a class="btn btn-outline-secondary" asp-action="Index">Back to list</a>
</div>

<dl class="row">
    <dt class="col-sm-3">ID</dt>
    <dd class="col-sm-9">@Model.Id</dd>

    <dt class="col-sm-3">Kind</dt>
    <dd class="col-sm-9">@Model.Kind</dd>

    <dt class="col-sm-3">Subject</dt>
    <dd class="col-sm-9">@Model.Subject</dd>

    <dt class="col-sm-3">SAN DNS</dt>
    <dd class="col-sm-9">@Model.SanDns</dd>

    <dt class="col-sm-3">SAN IP</dt>
    <dd class="col-sm-9">@Model.SanIp</dd>

    <dt class="col-sm-3">Not Before</dt>
    <dd class="col-sm-9">@Model.NotBefore</dd>

    <dt class="col-sm-3">Not After</dt>
    <dd class="col-sm-9">@Model.NotAfter</dd>

    <dt class="col-sm-3">Status</dt>
    <dd class="col-sm-9"><span class="badge bg-secondary">@Model.Status</span></dd>

    <dt class="col-sm-3">Key Path</dt>
    <dd class="col-sm-9"><code>@Model.KeyPath</code></dd>

    <dt class="col-sm-3">Cert Path</dt>
    <dd class="col-sm-9"><code>@Model.CertPath</code></dd>

    <dt class="col-sm-3">Chain Path</dt>
    <dd class="col-sm-9"><code>@Model.ChainPath</code></dd>

    <dt class="col-sm-3">Created</dt>
    <dd class="col-sm-9">@Model.CreatedAt</dd>

    <dt class="col-sm-3">Updated</dt>
    <dd class="col-sm-9">@Model.UpdatedAt</dd>
</dl>

<div class="mt-3">
    <a class="btn btn-outline-primary" asp-action="Index">Back</a>
    @if (!string.Equals(Model.Status, "revoked", StringComparison.OrdinalIgnoreCase))
    {
        <a class="btn btn-outline-danger ms-2" asp-action="Revoke" asp-route-id="@Model.Id">Revokeâ€¦</a>
    }
    <a class="btn btn-secondary ms-2" asp-action="Download" asp-route-id="@Model.Id">Download</a>
</div>
